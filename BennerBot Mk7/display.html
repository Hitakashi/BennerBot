<!DOCTYPE html>
<html>
    <head>
        <title>BennerBot v0.7 ~ Chat</title><link rel="stylesheet" type="text/css" href="resource/layout.css" media="screen" />
        <script  type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
        <!--<script type="text/javascript">
        var auto_refresh = setInterval(function (){
            $('#load').load('output.html?_=' +Math.random()).fadeIn("slow");
            $("#load").attr({ scrollTop: $("#load").attr("scrollHeight") });
            //$("#load").focus();
         }, 1000);
        </script>-->
        <script type="text/javascript">
            //var height = 0;
            function loadandScroll(){
                $('#load').load('output.html?_=' +Math.random()).fadeIn("slow"); 
                if(($(window).scrollTop() + $(window).height() >= $("#end").offset().top-100) && ($(window).scrollTop() + $(window).height() <= $("#end").offset().top)) {
                    //$('html,body').animate({scrollTop : /*$("#load").get(0).scrollHeight*/$("#end").offset().top},3000);
                    $('html, body').scrollTop( $(document).height() - $(window).height() );
                    $(window).unbind('scroll');
                }
            }
        </script>
    </head>

    <body onLoad="setInterval(function (){loadandScroll();}, 1000);">
        <div id="load"></div>
        <div id="end"/>
    </body>
</html>